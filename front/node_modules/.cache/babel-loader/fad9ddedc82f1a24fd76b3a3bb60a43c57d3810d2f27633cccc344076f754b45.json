{"ast":null,"code":"var _jsxFileName = \"/app/src/Chat/HandleInvite.tsx\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction HandleInvite(_ref) {\n  _s();\n  let {\n    socket,\n    userInfo,\n    setSelectedChannel,\n    setMessages,\n    SaveChannel,\n    setSaveChannel,\n    setAlert\n  } = _ref;\n  const [Invites, setInvites] = useState([]);\n  useEffect(() => {\n    const fetchInvites = async () => {\n      try {\n        const response = await axios.get('http://localhost:3333/chat/invites', {\n          withCredentials: true\n        });\n        setInvites(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchInvites();\n    const interval = setInterval(fetchInvites, 5000);\n    return () => clearInterval(interval);\n  }, []);\n  const JoinPrivateChannel = async channelName => {\n    try {\n      await axios.post('http://localhost:3333/chat/join/' + channelName, {\n        state: 'PRIVATE'\n      }, {\n        withCredentials: true\n      });\n      setSelectedChannel(channelName);\n      setMessages([]);\n      socket === null || socket === void 0 ? void 0 : socket.emit('join', {\n        channel: channelName,\n        username: userInfo === null || userInfo === void 0 ? void 0 : userInfo.username\n      });\n      setSaveChannel([...SaveChannel, channelName]);\n      setAlert({\n        message: 'You joinned ' + channelName,\n        type: 'success'\n      });\n    } catch (error) {\n      setAlert({\n        message: 'You have already joinned this channel',\n        type: 'error'\n      });\n    }\n  };\n  const DeclineInvite = async channelName => {\n    try {\n      axios.delete('http://localhost:3333/chat/decline/' + channelName, {\n        withCredentials: true\n      });\n    } catch (error) {\n      console.error(error);\n    }\n    setInvites(Invites.filter(channel => channel.name !== channelName));\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: Invites.map(invite => /*#__PURE__*/_jsxDEV(\"li\", {\n      className: \"chat-person\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"chat-name\",\n        children: invite.channels.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"chat-accept-invite\",\n        onClick: () => JoinPrivateChannel(invite.channels.name),\n        children: \"\\u2713\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"chat-decline-invite\",\n        onClick: () => DeclineInvite(invite.channels.name),\n        children: \"\\xD7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 6\n      }, this)]\n    }, invite.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this))\n  }, void 0, false);\n}\n_s(HandleInvite, \"NUwceOh5eLd73NKJGtyOPN3W9Oo=\");\n_c = HandleInvite;\nexport default HandleInvite;\nvar _c;\n$RefreshReg$(_c, \"HandleInvite\");","map":{"version":3,"names":["axios","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","HandleInvite","_ref","_s","socket","userInfo","setSelectedChannel","setMessages","SaveChannel","setSaveChannel","setAlert","Invites","setInvites","fetchInvites","response","get","withCredentials","data","error","console","interval","setInterval","clearInterval","JoinPrivateChannel","channelName","post","state","emit","channel","username","message","type","DeclineInvite","delete","filter","name","children","map","invite","className","channels","fileName","_jsxFileName","lineNumber","columnNumber","onClick","id","_c","$RefreshReg$"],"sources":["/app/src/Chat/HandleInvite.tsx"],"sourcesContent":["import axios from 'axios';\nimport { useEffect, useState } from 'react';\n\ninterface HandleInviteProps {\n\tsocket: any;\n\tuserInfo: any;\n\tsetSelectedChannel: (channel: string) => void;\n\tsetMessages: (messages: any[]) => void;\n\tSaveChannel: string[];\n\tsetSaveChannel: (channels: string[]) => void;\n\tsetAlert: (Alert: { message: string; type: 'success' | 'error' }) => void;\n}\n\nfunction HandleInvite({\n\tsocket,\n\tuserInfo,\n\tsetSelectedChannel,\n\tsetMessages,\n\tSaveChannel,\n\tsetSaveChannel,\n\tsetAlert,\n}: HandleInviteProps) {\n\tconst [Invites, setInvites] = useState<any[]>([]);\n\n\tuseEffect(() => {\n\t\tconst fetchInvites = async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await axios.get(\n\t\t\t\t\t'http://localhost:3333/chat/invites',\n\t\t\t\t\t{ withCredentials: true }\n\t\t\t\t);\n\t\t\t\tsetInvites(response.data);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t};\n\t\tfetchInvites();\n\t\tconst interval = setInterval(fetchInvites, 5000);\n\t\treturn () => clearInterval(interval);\n\t}, []);\n\n\tconst JoinPrivateChannel = async (channelName: string) => {\n\t\ttry {\n\t\t\tawait axios.post(\n\t\t\t\t'http://localhost:3333/chat/join/' + channelName,\n\t\t\t\t{ state: 'PRIVATE' },\n\t\t\t\t{ withCredentials: true }\n\t\t\t);\n\t\t\tsetSelectedChannel(channelName);\n\t\t\tsetMessages([]);\n\t\t\tsocket?.emit('join', {\n\t\t\t\tchannel: channelName,\n\t\t\t\tusername: userInfo?.username,\n\t\t\t});\n\t\t\tsetSaveChannel([...SaveChannel, channelName]);\n\t\t\tsetAlert({\n\t\t\t\tmessage: 'You joinned ' + channelName,\n\t\t\t\ttype: 'success',\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tsetAlert({\n\t\t\t\tmessage: 'You have already joinned this channel',\n\t\t\t\ttype: 'error',\n\t\t\t});\n\t\t}\n\t};\n\n\tconst DeclineInvite = async (channelName: string) => {\n\t\ttry {\n\t\t\taxios.delete('http://localhost:3333/chat/decline/' + channelName, {\n\t\t\t\twithCredentials: true,\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t\tsetInvites(Invites.filter((channel) => channel.name !== channelName));\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{Invites.map((invite) => (\n\t\t\t\t<li className=\"chat-person\" key={invite.id}>\n\t\t\t\t\t<span className=\"chat-name\">{invite.channels.name}</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"chat-accept-invite\"\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tJoinPrivateChannel(invite.channels.name)\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t&#10003;\n\t\t\t\t\t</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"chat-decline-invite\"\n\t\t\t\t\t\tonClick={() => DeclineInvite(invite.channels.name)}>\n\t\t\t\t\t\t&times;\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</>\n\t);\n}\n\nexport default HandleInvite;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}