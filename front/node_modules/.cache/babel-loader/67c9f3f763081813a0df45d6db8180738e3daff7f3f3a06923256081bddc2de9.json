{"ast":null,"code":"var _jsxFileName = \"/app/src/Messagerie/Channel/ChannelElement.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useState, useCallback, useEffect } from 'react';\nimport axios from 'axios';\nimport '../Dm/DmElement.css';\n/*\tComponents\t*/\nimport { PopUp } from '../../Profile/Components/MainInfo/MainInfo';\nimport MessageInput from '../Dm/MessageInput';\nimport { BasicFrame } from '../../Profile/Components/MiddleInfo/MiddleInfo';\nimport { NewChannel } from './NewChannel/NewChannel';\nimport { ChannelPassword } from './ChannelPassword';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChannelListElement = _ref => {\n  _s();\n  let {\n    Channel,\n    userInfo,\n    socket,\n    selectedChannel,\n    setSelectedChannel\n  } = _ref;\n  const [SaveChannel, setSaveChannel] = useState([]);\n  const [ban, setBan] = useState([]);\n  const [ChannelPasswordTrigger, setChannelPasswordTrigger] = useState(false);\n  const handleSelectChannel = async channel => {\n    const response = await axios.get('http://localhost:3333/chat/ban/' + (userInfo === null || userInfo === void 0 ? void 0 : userInfo.username), {\n      withCredentials: true\n    });\n    setBan(response.data);\n    if (ban !== null && ban !== void 0 && ban.find(ban => ban.name === channel.name)) {\n      console.log('You are banned from this channel');\n      return;\n    }\n    if ((channel === null || channel === void 0 ? void 0 : channel.state) === 'PUBLIC') {\n      setSelectedChannel(channel);\n      socket === null || socket === void 0 ? void 0 : socket.emit('join', {\n        channel: channel.name,\n        username: userInfo === null || userInfo === void 0 ? void 0 : userInfo.username\n      });\n    } else if ((channel === null || channel === void 0 ? void 0 : channel.state) === 'PROTECTED') {\n      if (SaveChannel.find(savechannel => savechannel.name === channel.name)) {\n        setSelectedChannel(channel);\n        socket === null || socket === void 0 ? void 0 : socket.emit('join', {\n          channel: channel.name,\n          username: userInfo === null || userInfo === void 0 ? void 0 : userInfo.username\n        });\n      } else {\n        handleChannelPasswordTrigger();\n      }\n    }\n    //} else if (channel?.state === 'PRIVATE') {\n    //\tif (channel.ownerId === userInfo.id) {\n    //\t\tsetSelectedChannel(channel);\n    //\t\tsocket?.emit('join', {\n    //\t\t\tchannel: channel.name,\n    //\t\t\tusername: userInfo?.username,\n    //\t\t});\n    //\t} else if (\n    //\t\tSaveChannel.find((channelName) => channelName === channel.name)\n    //\t) {\n    //\t\tsetSelectedChannel(channel);\n    //\t\tsocket?.emit('join', {\n    //\t\t\tchannel: channel.name,\n    //\t\t\tusername: userInfo?.username,\n    //\t\t});\n    //\t} else {\n    //\t\tconsole.log(\"You don't have access to this channel\");\n    //\t}\n    //}\n  };\n\n  const handleChannelPasswordTrigger = useCallback(() => {\n    setChannelPasswordTrigger(!ChannelPasswordTrigger);\n  }, [ChannelPasswordTrigger, setChannelPasswordTrigger]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `dm-list-element ${Channel.id === (selectedChannel === null || selectedChannel === void 0 ? void 0 : selectedChannel.id) && 'active'}`,\n      onClick: () => handleSelectChannel(Channel),\n      children: /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: Channel.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(PopUp, {\n      trigger: ChannelPasswordTrigger,\n      children: /*#__PURE__*/_jsxDEV(ChannelPassword, {\n        handleChannelPasswordTrigger: handleChannelPasswordTrigger,\n        Channel: Channel,\n        setSaveChannel: setSaveChannel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true);\n};\n_s(ChannelListElement, \"q8zLpGsd8o2LLLDrr2E/M1BehOo=\");\n_c = ChannelListElement;\nconst ChannelLists = _ref2 => {\n  let {\n    ChannelList,\n    userInfo,\n    socket,\n    selectedChannel,\n    setSelectedChannel\n  } = _ref2;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dm-list\",\n    children: ChannelList.map((Channel, index) => {\n      return /*#__PURE__*/_jsxDEV(ChannelListElement, {\n        Channel: Channel,\n        userInfo: userInfo,\n        socket: socket,\n        selectedChannel: selectedChannel,\n        setSelectedChannel: setSelectedChannel\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 6\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 3\n  }, this);\n};\n_c2 = ChannelLists;\nconst Aside = _ref3 => {\n  _s2();\n  let {\n    buttonContent,\n    ChannelList,\n    userInfo,\n    socket,\n    selectedChannel,\n    setSelectedChannel\n  } = _ref3;\n  const [newDmTrigger, setNewDmTrigger] = useState(false);\n  const handleNewDmTrigger = useCallback(() => {\n    setNewDmTrigger(!newDmTrigger);\n  }, [newDmTrigger, setNewDmTrigger]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dm-aside\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"new-input\",\n      onClick: handleNewDmTrigger,\n      children: buttonContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(ChannelLists, {\n      ChannelList: ChannelList,\n      socket: socket,\n      userInfo: userInfo,\n      selectedChannel: selectedChannel,\n      setSelectedChannel: setSelectedChannel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(PopUp, {\n      trigger: newDmTrigger,\n      children: /*#__PURE__*/_jsxDEV(NewChannel, {\n        handleNewDmTrigger: handleNewDmTrigger,\n        userInfo: userInfo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 3\n  }, this);\n};\n_s2(Aside, \"y4Qc069jevXoTzUDJD4HcbG3PWY=\");\n_c3 = Aside;\nconst Beside = _ref4 => {\n  _s3();\n  let {\n    socket,\n    Channel,\n    userInfo,\n    setSelectedChannel\n  } = _ref4;\n  const [messages, setMessages] = useState([]);\n  const [blocked, setBlocked] = useState([]);\n  useEffect(() => {\n    const fetchBlocked = async () => {\n      try {\n        const response = await axios.get('http://localhost:3333/friend/blocked', {\n          withCredentials: true\n        });\n        setBlocked(response.data);\n      } catch (error) {}\n    };\n    fetchBlocked();\n  }, [messages]);\n  useEffect(() => {\n    const handleMessage = message => {\n      if (!blocked.find(user => user.username === message.username)) setMessages([message, ...messages]);\n    };\n    socket === null || socket === void 0 ? void 0 : socket.on('chat', handleMessage);\n    socket === null || socket === void 0 ? void 0 : socket.on('kick', data => {\n      if ((data === null || data === void 0 ? void 0 : data.username) === (userInfo === null || userInfo === void 0 ? void 0 : userInfo.username)) {\n        setSelectedChannel(Channel);\n        setMessages([]);\n      }\n    });\n    socket === null || socket === void 0 ? void 0 : socket.on('ban', data => {\n      if ((data === null || data === void 0 ? void 0 : data.username) === (userInfo === null || userInfo === void 0 ? void 0 : userInfo.username)) {\n        setSelectedChannel(Channel);\n        setMessages([]);\n      }\n    });\n    return () => {\n      socket === null || socket === void 0 ? void 0 : socket.off('chat', handleMessage);\n      socket === null || socket === void 0 ? void 0 : socket.off('kick');\n      socket === null || socket === void 0 ? void 0 : socket.off('ban');\n    };\n  }, [Channel, blocked, messages, setSelectedChannel, socket, userInfo === null || userInfo === void 0 ? void 0 : userInfo.username]);\n  const sendMessage = message => {\n    if (!message.content || !Channel) return;\n    socket === null || socket === void 0 ? void 0 : socket.emit('chat', {\n      ...message,\n      channel: Channel.name\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dm-beside\",\n    children: [/*#__PURE__*/_jsxDEV(BasicFrame, {\n      height: \"91%\",\n      title: !Channel || Channel.id === 0 ? 'No Chat selected' : Channel.name,\n      children: messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chat-bubble ${(userInfo === null || userInfo === void 0 ? void 0 : userInfo.username) === message.username ? 'chat-me' : 'chat-you'}`,\n        children: (userInfo === null || userInfo === void 0 ? void 0 : userInfo.username) === message.username && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: message.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"chat-avatar\",\n            src: message.avatar,\n            alt: \"avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: new Date(message.createdAt).getHours() + ':' + new Date(message.createdAt).getMinutes().toString().padStart(2, '0')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true) || /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: new Date(message.createdAt).getHours() + ':' + new Date(message.createdAt).getMinutes().toString().padStart(2, '0')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"chat-avatar\",\n            src: message.avatar,\n            alt: \"avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: message.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 6\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(MessageInput, {\n      sendMessage: sendMessage,\n      userInfo: userInfo\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 3\n  }, this);\n};\n_s3(Beside, \"0hE86R8uVsZuZXq6+IreaR+PEFw=\");\n_c4 = Beside;\nexport const ChannelElement = _ref5 => {\n  _s4();\n  let {\n    socket\n  } = _ref5;\n  const [userInfo, setUserInfo] = useState();\n  const [ChannelList, setChannelList] = useState([]);\n  const [selectedChannel, setSelectedChannel] = useState();\n  useEffect(() => {\n    const fetchData = async () => {\n      const response = await axios.get('http://localhost:3333/users/me', {\n        withCredentials: true\n      });\n      setUserInfo(response.data);\n    };\n    const fetchChats = async () => {\n      try {\n        const Channels = await axios.get('http://localhost:3333/chat/channels', {\n          withCredentials: true\n        });\n        setChannelList(Channels.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    fetchData();\n    fetchChats();\n    const interval = setInterval(fetchChats, 5000);\n    return () => clearInterval(interval);\n  }, [userInfo === null || userInfo === void 0 ? void 0 : userInfo.username]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dm-element\",\n    children: [/*#__PURE__*/_jsxDEV(Aside, {\n      buttonContent: \"New Channel\",\n      ChannelList: ChannelList,\n      userInfo: userInfo,\n      socket: socket,\n      selectedChannel: selectedChannel,\n      setSelectedChannel: setSelectedChannel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Beside, {\n      socket: socket,\n      Channel: selectedChannel,\n      userInfo: userInfo,\n      setSelectedChannel: setSelectedChannel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 357,\n    columnNumber: 3\n  }, this);\n};\n_s4(ChannelElement, \"uEtuLnEig90JhxjLFwhPdN4CZAE=\");\n_c5 = ChannelElement;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"ChannelListElement\");\n$RefreshReg$(_c2, \"ChannelLists\");\n$RefreshReg$(_c3, \"Aside\");\n$RefreshReg$(_c4, \"Beside\");\n$RefreshReg$(_c5, \"ChannelElement\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","axios","PopUp","MessageInput","BasicFrame","NewChannel","ChannelPassword","jsxDEV","_jsxDEV","Fragment","_Fragment","ChannelListElement","_ref","_s","Channel","userInfo","socket","selectedChannel","setSelectedChannel","SaveChannel","setSaveChannel","ban","setBan","ChannelPasswordTrigger","setChannelPasswordTrigger","handleSelectChannel","channel","response","get","username","withCredentials","data","find","name","console","log","state","emit","savechannel","handleChannelPasswordTrigger","children","className","id","onClick","fileName","_jsxFileName","lineNumber","columnNumber","trigger","_c","ChannelLists","_ref2","ChannelList","map","index","_c2","Aside","_ref3","_s2","buttonContent","newDmTrigger","setNewDmTrigger","handleNewDmTrigger","_c3","Beside","_ref4","_s3","messages","setMessages","blocked","setBlocked","fetchBlocked","error","handleMessage","message","user","on","off","sendMessage","content","height","title","src","avatar","alt","Date","createdAt","getHours","getMinutes","toString","padStart","_c4","ChannelElement","_ref5","_s4","setUserInfo","setChannelList","fetchData","fetchChats","Channels","interval","setInterval","clearInterval","_c5","$RefreshReg$"],"sources":["/app/src/Messagerie/Channel/ChannelElement.tsx"],"sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\nimport axios from 'axios';\nimport { Socket } from 'socket.io-client';\nimport '../Dm/DmElement.css';\n/*\tComponents\t*/\nimport { PopUp } from '../../Profile/Components/MainInfo/MainInfo';\nimport MessageInput from '../Dm/MessageInput';\nimport { BasicFrame } from '../../Profile/Components/MiddleInfo/MiddleInfo';\nimport { NewChannel } from './NewChannel/NewChannel';\nimport { ChannelPassword } from './ChannelPassword';\n\nconst ChannelListElement = ({\n\tChannel,\n\tuserInfo,\n\tsocket,\n\tselectedChannel,\n\tsetSelectedChannel,\n}: {\n\tChannel: ChannelDto;\n\tuserInfo: userInfoDto | undefined;\n\tsocket: Socket;\n\tselectedChannel: ChannelDto | undefined;\n\tsetSelectedChannel: React.Dispatch<\n\t\tReact.SetStateAction<ChannelDto | undefined>\n\t>;\n}) => {\n\tconst [SaveChannel, setSaveChannel] = useState<ChannelDto[]>([]);\n\tconst [ban, setBan] = useState<any[]>([]);\n\tconst [ChannelPasswordTrigger, setChannelPasswordTrigger] = useState(false);\n\n\tconst handleSelectChannel = async (channel: ChannelDto) => {\n\t\tconst response = await axios.get(\n\t\t\t'http://localhost:3333/chat/ban/' + userInfo?.username,\n\t\t\t{ withCredentials: true }\n\t\t);\n\t\tsetBan(response.data);\n\t\tif (ban?.find((ban: any) => ban.name === channel.name)) {\n\t\t\tconsole.log('You are banned from this channel');\n\t\t\treturn;\n\t\t}\n\t\tif (channel?.state === 'PUBLIC') {\n\t\t\tsetSelectedChannel(channel);\n\t\t\tsocket?.emit('join', {\n\t\t\t\tchannel: channel.name,\n\t\t\t\tusername: userInfo?.username,\n\t\t\t});\n\t\t} else if (channel?.state === 'PROTECTED') {\n\t\t\tif (\n\t\t\t\tSaveChannel.find(\n\t\t\t\t\t(savechannel) => savechannel.name === channel.name\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tsetSelectedChannel(channel);\n\t\t\t\tsocket?.emit('join', {\n\t\t\t\t\tchannel: channel.name,\n\t\t\t\t\tusername: userInfo?.username,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\thandleChannelPasswordTrigger();\n\t\t\t}\n\t\t}\n\t\t//} else if (channel?.state === 'PRIVATE') {\n\t\t//\tif (channel.ownerId === userInfo.id) {\n\t\t//\t\tsetSelectedChannel(channel);\n\t\t//\t\tsocket?.emit('join', {\n\t\t//\t\t\tchannel: channel.name,\n\t\t//\t\t\tusername: userInfo?.username,\n\t\t//\t\t});\n\t\t//\t} else if (\n\t\t//\t\tSaveChannel.find((channelName) => channelName === channel.name)\n\t\t//\t) {\n\t\t//\t\tsetSelectedChannel(channel);\n\t\t//\t\tsocket?.emit('join', {\n\t\t//\t\t\tchannel: channel.name,\n\t\t//\t\t\tusername: userInfo?.username,\n\t\t//\t\t});\n\t\t//\t} else {\n\t\t//\t\tconsole.log(\"You don't have access to this channel\");\n\t\t//\t}\n\t\t//}\n\t};\n\n\tconst handleChannelPasswordTrigger = useCallback(() => {\n\t\tsetChannelPasswordTrigger(!ChannelPasswordTrigger);\n\t}, [ChannelPasswordTrigger, setChannelPasswordTrigger]);\n\n\treturn (\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName={`dm-list-element ${\n\t\t\t\t\tChannel.id === selectedChannel?.id && 'active'\n\t\t\t\t}`}\n\t\t\t\tonClick={() => handleSelectChannel(Channel)}>\n\t\t\t\t<h4>{Channel.name}</h4>\n\t\t\t</div>\n\t\t\t<PopUp trigger={ChannelPasswordTrigger}>\n\t\t\t\t<ChannelPassword\n\t\t\t\t\thandleChannelPasswordTrigger={handleChannelPasswordTrigger}\n\t\t\t\t\tChannel={Channel}\n\t\t\t\t\tsetSaveChannel={setSaveChannel}\n\t\t\t\t/>\n\t\t\t</PopUp>\n\t\t</>\n\t);\n};\n\nconst ChannelLists = ({\n\tChannelList,\n\tuserInfo,\n\tsocket,\n\tselectedChannel,\n\tsetSelectedChannel,\n}: {\n\tChannelList: ChannelDto[];\n\tuserInfo: userInfoDto | undefined;\n\tsocket: Socket;\n\tselectedChannel: ChannelDto | undefined;\n\tsetSelectedChannel: React.Dispatch<\n\t\tReact.SetStateAction<ChannelDto | undefined>\n\t>;\n}) => {\n\treturn (\n\t\t<div className=\"dm-list\">\n\t\t\t{ChannelList.map((Channel, index) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ChannelListElement\n\t\t\t\t\t\tChannel={Channel}\n\t\t\t\t\t\tuserInfo={userInfo}\n\t\t\t\t\t\tsocket={socket}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tselectedChannel={selectedChannel}\n\t\t\t\t\t\tsetSelectedChannel={setSelectedChannel}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n};\n\nconst Aside = ({\n\tbuttonContent,\n\tChannelList,\n\tuserInfo,\n\tsocket,\n\tselectedChannel,\n\tsetSelectedChannel,\n}: {\n\tbuttonContent: string;\n\tChannelList: ChannelDto[];\n\tuserInfo: userInfoDto | undefined;\n\tsocket: Socket;\n\tselectedChannel: ChannelDto | undefined;\n\tsetSelectedChannel: React.Dispatch<\n\t\tReact.SetStateAction<ChannelDto | undefined>\n\t>;\n}) => {\n\tconst [newDmTrigger, setNewDmTrigger] = useState(false);\n\n\tconst handleNewDmTrigger = useCallback(() => {\n\t\tsetNewDmTrigger(!newDmTrigger);\n\t}, [newDmTrigger, setNewDmTrigger]);\n\n\treturn (\n\t\t<div className=\"dm-aside\">\n\t\t\t<button className=\"new-input\" onClick={handleNewDmTrigger}>\n\t\t\t\t{buttonContent}\n\t\t\t</button>\n\t\t\t<ChannelLists\n\t\t\t\tChannelList={ChannelList}\n\t\t\t\tsocket={socket}\n\t\t\t\tuserInfo={userInfo}\n\t\t\t\tselectedChannel={selectedChannel}\n\t\t\t\tsetSelectedChannel={setSelectedChannel}\n\t\t\t/>\n\t\t\t<PopUp trigger={newDmTrigger}>\n\t\t\t\t<NewChannel\n\t\t\t\t\thandleNewDmTrigger={handleNewDmTrigger}\n\t\t\t\t\tuserInfo={userInfo}\n\t\t\t\t/>\n\t\t\t</PopUp>\n\t\t</div>\n\t);\n};\n\ninterface Props {\n\tsocket: Socket;\n\tChannel: ChannelDto | undefined;\n\tuserInfo: userInfoDto | undefined;\n\tsetSelectedChannel: React.Dispatch<\n\t\tReact.SetStateAction<ChannelDto | undefined>\n\t>;\n}\n\nconst Beside = ({ socket, Channel, userInfo, setSelectedChannel }: Props) => {\n\tconst [messages, setMessages] = useState<any[]>([]);\n\tconst [blocked, setBlocked] = useState<userInfoDto[]>([]);\n\n\tuseEffect(() => {\n\t\tconst fetchBlocked = async () => {\n\t\t\ttry {\n\t\t\t\tconst response = await axios.get(\n\t\t\t\t\t'http://localhost:3333/friend/blocked',\n\t\t\t\t\t{\n\t\t\t\t\t\twithCredentials: true,\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tsetBlocked(response.data);\n\t\t\t} catch (error) {}\n\t\t};\n\t\tfetchBlocked();\n\t}, [messages]);\n\n\tuseEffect(() => {\n\t\tconst handleMessage = (message: any) => {\n\t\t\tif (!blocked.find((user) => user.username === message.username))\n\t\t\t\tsetMessages([message, ...messages]);\n\t\t};\n\n\t\tsocket?.on('chat', handleMessage);\n\t\tsocket?.on('kick', (data: any) => {\n\t\t\tif (data?.username === userInfo?.username) {\n\t\t\t\tsetSelectedChannel(Channel);\n\t\t\t\tsetMessages([]);\n\t\t\t}\n\t\t});\n\t\tsocket?.on('ban', (data: any) => {\n\t\t\tif (data?.username === userInfo?.username) {\n\t\t\t\tsetSelectedChannel(Channel);\n\t\t\t\tsetMessages([]);\n\t\t\t}\n\t\t});\n\t\treturn () => {\n\t\t\tsocket?.off('chat', handleMessage);\n\t\t\tsocket?.off('kick');\n\t\t\tsocket?.off('ban');\n\t\t};\n\t}, [\n\t\tChannel,\n\t\tblocked,\n\t\tmessages,\n\t\tsetSelectedChannel,\n\t\tsocket,\n\t\tuserInfo?.username,\n\t]);\n\n\tconst sendMessage = (message: any) => {\n\t\tif (!message.content || !Channel) return;\n\t\tsocket?.emit('chat', { ...message, channel: Channel.name });\n\t};\n\n\treturn (\n\t\t<div className=\"dm-beside\">\n\t\t\t<BasicFrame\n\t\t\t\theight=\"91%\"\n\t\t\t\ttitle={\n\t\t\t\t\t!Channel || Channel.id === 0\n\t\t\t\t\t\t? 'No Chat selected'\n\t\t\t\t\t\t: Channel.name\n\t\t\t\t}>\n\t\t\t\t{messages.map((message, index) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tclassName={`chat-bubble ${\n\t\t\t\t\t\t\tuserInfo?.username === message.username\n\t\t\t\t\t\t\t\t? 'chat-me'\n\t\t\t\t\t\t\t\t: 'chat-you'\n\t\t\t\t\t\t}`}>\n\t\t\t\t\t\t{(userInfo?.username === message.username && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<p>{message.content}</p>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName=\"chat-avatar\"\n\t\t\t\t\t\t\t\t\tsrc={message.avatar}\n\t\t\t\t\t\t\t\t\talt=\"avatar\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{new Date(message.createdAt).getHours() +\n\t\t\t\t\t\t\t\t\t\t':' +\n\t\t\t\t\t\t\t\t\t\tnew Date(message.createdAt)\n\t\t\t\t\t\t\t\t\t\t\t.getMinutes()\n\t\t\t\t\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t\t\t\t\t.padStart(2, '0')}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)) || (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t{new Date(message.createdAt).getHours() +\n\t\t\t\t\t\t\t\t\t\t':' +\n\t\t\t\t\t\t\t\t\t\tnew Date(message.createdAt)\n\t\t\t\t\t\t\t\t\t\t\t.getMinutes()\n\t\t\t\t\t\t\t\t\t\t\t.toString()\n\t\t\t\t\t\t\t\t\t\t\t.padStart(2, '0')}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tclassName=\"chat-avatar\"\n\t\t\t\t\t\t\t\t\tsrc={message.avatar}\n\t\t\t\t\t\t\t\t\talt=\"avatar\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<p>{message.content}</p>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</BasicFrame>\n\t\t\t<MessageInput sendMessage={sendMessage} userInfo={userInfo} />\n\t\t</div>\n\t);\n};\n\nexport interface ChannelDto {\n\tid: number;\n\tname: string;\n\tstate: string;\n\townerId: number;\n\tChatUsers: any[];\n}\n\nexport interface userInfoDto {\n\tid: number;\n\tusername: string;\n\tavatar: string;\n}\n\nexport const ChannelElement = ({ socket }: { socket: Socket }) => {\n\tconst [userInfo, setUserInfo] = useState<userInfoDto>();\n\tconst [ChannelList, setChannelList] = useState<ChannelDto[]>([]);\n\tconst [selectedChannel, setSelectedChannel] = useState<ChannelDto>();\n\n\tuseEffect(() => {\n\t\tconst fetchData = async () => {\n\t\t\tconst response = await axios.get('http://localhost:3333/users/me', {\n\t\t\t\twithCredentials: true,\n\t\t\t});\n\t\t\tsetUserInfo(response.data);\n\t\t};\n\n\t\tconst fetchChats = async () => {\n\t\t\ttry {\n\t\t\t\tconst Channels = await axios.get<ChannelDto[]>(\n\t\t\t\t\t'http://localhost:3333/chat/channels',\n\t\t\t\t\t{ withCredentials: true }\n\t\t\t\t);\n\t\t\t\tsetChannelList(Channels.data);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(error);\n\t\t\t}\n\t\t};\n\n\t\tfetchData();\n\t\tfetchChats();\n\t\tconst interval = setInterval(fetchChats, 5000);\n\t\treturn () => clearInterval(interval);\n\t}, [userInfo?.username]);\n\n\treturn (\n\t\t<div className=\"dm-element\">\n\t\t\t<Aside\n\t\t\t\tbuttonContent=\"New Channel\"\n\t\t\t\tChannelList={ChannelList}\n\t\t\t\tuserInfo={userInfo}\n\t\t\t\tsocket={socket}\n\t\t\t\tselectedChannel={selectedChannel}\n\t\t\t\tsetSelectedChannel={setSelectedChannel}\n\t\t\t/>\n\t\t\t<Beside\n\t\t\t\tsocket={socket}\n\t\t\t\tChannel={selectedChannel}\n\t\t\t\tuserInfo={userInfo}\n\t\t\t\tsetSelectedChannel={setSelectedChannel}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}