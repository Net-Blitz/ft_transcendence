{"ast":null,"code":"var _jsxFileName = \"/app/src/Game/GamePopUp.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport \"./GamePopUp.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst replayAnimations = () => {\n  document.getAnimations().forEach(anim => {\n    if (anim.playState === \"idle\") {\n      anim.cancel();\n      anim.play();\n    }\n  });\n};\nconst showPopUp = () => {\n  /* Show Pop Up */\n  document.querySelector(\".game-pop-up-main\").style.display = \"block\";\n\n  /* Reset animation */\n  const ball = document.querySelector(\".game-pop-up-ball\");\n  const bg = document.querySelector(\".game-pop-up-background-blue\");\n  ball === null || ball === void 0 ? void 0 : ball.style.setProperty(\"animation-duration\", \"20s\");\n  bg === null || bg === void 0 ? void 0 : bg.style.setProperty(\"animation-duration\", \"20s\");\n  replayAnimations();\n};\nconst hidePopUp = () => {\n  /* Hide Pop Up */\n  document.querySelector(\".game-pop-up-main\").style.display = \"none\";\n};\nconst GamePopUp = _ref => {\n  _s();\n  let {\n    socketQueue,\n    setReload,\n    reload\n  } = _ref;\n  const navigate = useNavigate();\n  const [accept, update_accept] = useState(0);\n\n  /* Socket Manager */\n  useEffect(() => {\n    const handleGameState = data => {\n      hidePopUp();\n      update_accept(0);\n      socketQueue.off(\"GamePopUpResponse\");\n      setReload(!reload);\n      if (data.message === \"OK\") navigate(\"/game\", {\n        state: true\n      });\n    };\n    function handleGamePopUpSetup(data) {\n      /* data = show or hide*/\n      if (data.message === \"show\") {\n        showPopUp();\n        socketQueue.on(\"GamePopUpResponse\", handleGameState);\n      } else {\n        hidePopUp();\n        socketQueue.off(\"GamePopUpResponse\");\n      }\n    }\n    if (socketQueue && socketQueue.connected !== undefined) socketQueue.on(\"GamePopUpSetup\", handleGamePopUpSetup);\n  }, [socketQueue]);\n\n  /* Aniamtion manager */\n  useEffect(() => {\n    if (accept === 0 || accept === 2) return;\n    const ball = document.querySelector(\".game-pop-up-ball\");\n    const bg = document.querySelector(\".game-pop-up-background-blue\");\n    ball === null || ball === void 0 ? void 0 : ball.style.setProperty(\"animation-duration\", \"1s\");\n    bg === null || bg === void 0 ? void 0 : bg.style.setProperty(\"animation-duration\", \"1s\");\n\n    //socket.emit(\"acceptGame\")\n  }, [accept]);\n\n  /* Button handler */\n  const handleAccept = e => {\n    if (accept === 0) {\n      update_accept(1);\n      socketQueue.emit(\"AcceptGame\");\n    }\n  };\n  const handleDecline = () => {\n    if (accept === 0) {\n      update_accept(2);\n      socketQueue.emit(\"DeclineGame\");\n      hidePopUp();\n      setReload(!reload);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-pop-up-main\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"game-pop-up-background-blue\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 3\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-pop-up-board\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"game-pop-up-button\",\n        id: \"Accept-button\",\n        onClick: handleAccept,\n        children: \"Accept\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"game-pop-up-button\",\n        id: \"Decline-button\",\n        onClick: handleDecline,\n        children: \"Decline\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"game-pop-up-bar\",\n        id: \"player1-bar-popup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"game-pop-up-bar\",\n        id: \"player2-bar-popup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"game-pop-up-ball\",\n        id: \"no\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 2\n  }, this);\n};\n_s(GamePopUp, \"jmaBPZB43SCglNPlv/yREa30Xds=\", false, function () {\n  return [useNavigate];\n});\n_c = GamePopUp;\nexport default GamePopUp;\nvar _c;\n$RefreshReg$(_c, \"GamePopUp\");","map":{"version":3,"names":["useEffect","useState","useNavigate","jsxDEV","_jsxDEV","replayAnimations","document","getAnimations","forEach","anim","playState","cancel","play","showPopUp","querySelector","style","display","ball","bg","setProperty","hidePopUp","GamePopUp","_ref","_s","socketQueue","setReload","reload","navigate","accept","update_accept","handleGameState","data","off","message","state","handleGamePopUpSetup","on","connected","undefined","handleAccept","e","emit","handleDecline","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","onClick","_c","$RefreshReg$"],"sources":["/app/src/Game/GamePopUp.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport \"./GamePopUp.css\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst replayAnimations = () => {\n\tdocument.getAnimations().forEach((anim: Animation) => {\n\t\tif (anim.playState === \"idle\")\n\t\t{\n\t\t\tanim.cancel();\n\t\t\tanim.play();\n\t\t}\n\t});\n};\nconst showPopUp = () => {\n\n\t/* Show Pop Up */\n\tdocument.querySelector<HTMLElement>(\".game-pop-up-main\")!.style.display = \"block\";\n\n\t/* Reset animation */\n\tconst ball = document.querySelector<HTMLElement>(\".game-pop-up-ball\");\n\tconst bg = document.querySelector<HTMLElement>(\".game-pop-up-background-blue\");\n\t\n\tball?.style.setProperty(\"animation-duration\", \"20s\");\n\tbg?.style.setProperty(\"animation-duration\", \"20s\");\n\treplayAnimations();\n\n};\n\nconst hidePopUp = () => {\n\t/* Hide Pop Up */\n\tdocument.querySelector<HTMLElement>(\".game-pop-up-main\")!.style.display = \"none\";\n\n};\n\nconst GamePopUp = ({socketQueue, setReload, reload}:any) => {\n\n\tconst navigate = useNavigate();\n\tconst [accept, update_accept] = useState(0)\n\t\n\t\n\t/* Socket Manager */\n\tuseEffect(() => {\n\t\tconst handleGameState = (data:any) => {\n\t\t\thidePopUp();\n\t\t\tupdate_accept(0);\n\t\t\tsocketQueue.off(\"GamePopUpResponse\");\n\t\t\tsetReload(!reload);\n\t\t\tif (data.message === \"OK\")\n\t\t\t\tnavigate(\"/game\", {state: true});\n\t\t};\n\n\t\tfunction handleGamePopUpSetup(data: {message: string}) {  /* data = show or hide*/\n\t\t\tif (data.message === \"show\")\n\t\t\t{\n\t\t\t\tshowPopUp();\n\t\t\t\tsocketQueue.on(\"GamePopUpResponse\", handleGameState);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\thidePopUp();\n\t\t\t\tsocketQueue.off(\"GamePopUpResponse\");\n\t\t\t}\n\t\t}\n\t\n\t\tif (socketQueue && socketQueue.connected !== undefined)\n\t\t\tsocketQueue.on(\"GamePopUpSetup\", handleGamePopUpSetup);\n\t\n\t}, [socketQueue]);\n\n\t/* Aniamtion manager */\n\tuseEffect(() => {\n\t\tif (accept === 0 || accept === 2)\n\t\t\treturn;\n\t\tconst ball = document.querySelector<HTMLElement>(\".game-pop-up-ball\");\n\t\tconst bg = document.querySelector<HTMLElement>(\".game-pop-up-background-blue\");\n\t\t\n\t\t\n\t\tball?.style.setProperty(\"animation-duration\", \"1s\");\n\t\tbg?.style.setProperty(\"animation-duration\", \"1s\");\n\n\t\t//socket.emit(\"acceptGame\")\n\t}, [accept]);\n\t\t\n\t/* Button handler */\n\tconst handleAccept = (e:any) => {\n\t\tif (accept === 0)\n\t\t{\n\t\t\tupdate_accept(1);\n\t\t\tsocketQueue.emit(\"AcceptGame\");\n\t\t}\n\t}\n\t\n\tconst handleDecline = () => {\n\t\tif (accept === 0)\n\t\t{\n\t\t\tupdate_accept(2);\n\t\t\tsocketQueue.emit(\"DeclineGame\");\n\t\t\thidePopUp();\n\t\t\tsetReload(!reload);\n\t\t}\n\t}\n\n\treturn (\n\t<div className=\"game-pop-up-main\">\n\t\t<span className=\"game-pop-up-background-blue\"></span>\n\t\t<div className=\"game-pop-up-board\">\n\t\t\t<button className=\"game-pop-up-button\" id=\"Accept-button\" onClick={handleAccept}>Accept</button>\n\t\t\t<button className=\"game-pop-up-button\" id=\"Decline-button\" onClick={handleDecline}>Decline</button>\n\t\t\t<span className=\"game-pop-up-bar\" id=\"player1-bar-popup\"></span>\n\t\t\t<span className=\"game-pop-up-bar\" id=\"player2-bar-popup\"></span>\n\t\t\t<span className=\"game-pop-up-ball\" id=\"no\"></span>\n\t\t</div>\n\t</div>\n\t)\n}\n\nexport default GamePopUp; \n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}